---
title: NFT 데이터 처리 아키텍처 복기
date: 2024-07-18 10:00:00 +0900
categories: [개발]
tags: [개발]
description: NFT 트랜잭션을 수집하고 처리하기 위해 구성했던 아키텍처를 정리해본다.
comments: true
---

마켓의 NFT 데이터는 따로 외부 서비스를 이용하지 않고 직접 수집해서 보여주고 있다.

대상 NFT들의 트랜잭션을 수집하면서 몇가지 필요성을 느낌

- nft 메타데이터 및 오더 정보, 트랜잭션 히스토리 등이 한군데에서 처리되면서 성능이슈가 발생
- 수집되는 데이터들이 사내에서 여러 프로젝트에 사용될 여지가 있으나 마켓이라는 도메인에 종속되어 다른 프로젝트에서 사용하기 어려움

결과적으로 NFT정보, 트랜잭션 히스토리를 별도의 서비스로 나누고
마켓은 오더정보만을 관리하는 방식의 구조로 개편을 계획하게 되었다.
프로젝트가 드롭되긴했지만 나름 열심히 아키텍쳐 및 인프라를 구성했던지라 복기해본다.

수집모듈 -> RabbitMQ -> nft정보모듈
트랜잭션 히스토리 모듈
그 외 프로젝트 필요시 subscribe

마켓은 오더데이터만을 담당하며, 필요시 nft정보 및 트랜잭션 히스토리를 해당 모듈에 요청하여 가져온다.

각 모듈들을 network load balancer하나로 라우팅하며 api gateway를 통해 호출 한다.
여기서 vpc link를 사용한 이유가 뭐였는지 기억이 안남 -> nlb때문이었나?
